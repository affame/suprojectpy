# Weather App

## Описание

Этот проект представляет собой веб-приложение для анализа погоды в двух городах. Пользователь может ввести названия двух городов, и приложение покажет текущую погоду в этих городах, а также определит, будет ли погода "клевой" или "плохой" на основе определенных критериев, таких как температура, скорость ветра, вероятность осадков и влажность.

## Функционал

1. Пользователь вводит названия двух городов.
2. Приложение находит координаты городов с помощью геокодера (с использованием `geopy`).
3. Получает данные о текущей погоде для этих городов с использованием API.
4. Анализирует погоду на основе нескольких факторов:
   - Температура
   - Влажность
   - Скорость ветра
   - Вероятность осадков
5. Отображает результат анализа погоды для каждого города.

## Как запустить проект

### 1. Клонируйте репозиторий

Скопируйте проект на локальную машину:

```bash
git clone <ссылка на репозиторий>
cd <папка с проектом>
```

### 2. Установите зависимости

Убедитесь, что у вас установлен Python 3.8 или выше. Затем установите все необходимые библиотеки:

```bash
pip install -r requirements.txt
```

### 3. Запустите приложение

Для запуска приложения используйте команду:

```bash
python app.py
```

Приложение будет доступно по адресу: `http://127.0.0.1:5000/` в вашем браузере.

### 4. Использование

1. Перейдите на главную страницу приложения.
2. Введите названия двух городов в соответствующие поля.
3. Нажмите кнопку "Получить прогноз".
4. Приложение покажет результаты по погоде для обоих городов.

## Как работает приложение

1. **Геокодирование:** Когда пользователь вводит название города, приложение использует геокодер `geopy` для получения координат города (широта и долгота).
2. **Получение данных о погоде:** С помощью API Open-Meteo приложение получает текущие данные о погоде для указанных координат.
3. **Анализ погоды:** Приложение анализирует погоду с использованием предварительно заданных критериев (например, температура, скорость ветра и вероятность осадков).
4. **Вывод результатов:** На странице выводится информация о погоде в каждом городе, а также результат анализа (например, "Плохая погода" или "Клевая погода").

## Структура проекта

```
/weather-app
│
├── app.py             # Основной файл приложения, обработка запросов
├── services/
│   ├── __init__.py    # Пустой файл для инициализации пакета
│   ├── model.py       # Функции для анализа погоды
│   ├── weather.py     # Функции для получения данных о погоде
│   └── geo.py         # Файл для работы с геокодированием (получение координат по городам)
├── templates/
│   ├── error.html     # Страница ошибки
│   ├── index.html     # Главная страница (форма ввода)
│   └── result.html    # Страница с результатами
├── requirements.txt   # Файл с зависимостями
└── README.md          # Этот файл

```

## Зависимости

- Flask
- geopy
- requests





# Приложение для предсказания погоды

Это веб-приложение предоставляет пользователям информацию о погоде по введенным координатам. Пользователь вводит начальную и конечную точку маршрута (широту и долготу), и приложение получает данные о текущей погоде для этих точек.

## Обработка ошибок

В рамках разработки приложения были обработаны следующие типы ошибок:

### 1. **Ошибки ввода данных пользователем**
- **Описание:** Пользователь может ввести некорректные или неполные данные, такие как неверный формат координат (например, текст вместо чисел).
- **Как обрабатывается:** Мы проверяем введенные координаты (широту и долготу), и если они не являются числами, выводится сообщение об ошибке.
- **Воздействие на систему:** Если координаты невалидны, система не сможет сделать запрос к API и, как результат, покажет ошибку с предложением исправить данные.

### 2. **Ошибки при запросе данных из API**
- **Описание:** При запросе данных о погоде через API могут возникнуть ошибки (например, проблемы с сетью или недоступность API).
- **Как обрабатывается:** Используется блок `try-except`, который ловит ошибки запроса к API. Если API недоступен или произошла ошибка на сервере, пользователю будет показано сообщение о том, что не удалось получить данные о погоде.
- **Воздействие на систему:** В случае ошибок API пользователь не сможет получить информацию о погоде для введенных координат. Однако приложение не аварийно завершит работу, а просто выведет ошибку с просьбой повторить запрос позже.

### 3. **Ошибки при обработке данных от API**
- **Описание:** API может вернуть некорректные или неполные данные (например, отсутствие данных о температуре или влажности).
- **Как обрабатывается:** Если полученные данные не содержат необходимую информацию (например, температура или влажность отсутствуют), система выводит ошибку о неполных данных.
- **Воздействие на систему:** В случае неполных данных система может предоставить пользователю информацию о невозможности обработки запроса и предложить попробовать снова.

### 4. **Ошибки в коде или сервере (например, проблемы с кодированием или сервером)**
- **Описание:** Ошибки, которые могут возникнуть на уровне сервера или в коде приложения, например, ошибка в синтаксисе, логике обработки или неправильная работа с данными.
- **Как обрабатывается:** Приложение настроено так, чтобы ловить исключения и выводить сообщение об ошибке. В случае серверных ошибок или ошибок в коде будет выведено сообщение с кодом ошибки (например, "Ошибка: 500") и кратким описанием проблемы.
- **Воздействие на систему:** Такие ошибки приводят к сбою работы системы, но благодаря обработке исключений пользователи не получают пустую страницу или "краш" приложения. В идеале, ошибка должна быть фиксирована разработчиком и исправлена для улучшения работы системы.

### 5. **Ошибки при отображении результатов**
- **Описание:** Некоторые ошибки могут возникнуть при обработке данных и выводе их на странице (например, если результат не может быть отображен из-за ошибки в шаблоне).
- **Как обрабатывается:** Все шаблоны HTML защищены от ошибок, которые могут возникнуть, если данные не были корректно переданы.
- **Воздействие на систему:** Ошибки отображения могут привести к тому, что пользователи не смогут увидеть результаты анализа погоды, но сами данные останутся доступными для разработчиков в логах.

### Влияние ошибок на работоспособность системы:
- В случае ошибок ввода данных или при недоступности API система не завершит свою работу, а сообщит пользователю о возникшей проблеме, что позволяет избежать аварийных сбоев.
- Ошибки, связанные с обработкой данных, могут привести к тому, что приложение не сможет корректно отобразить информацию о погоде, но приложение продолжит работу, позволяя пользователю попытаться снова.
- Ошибки серверной части или в коде также не приводят к падению приложения, так как ошибки отлавливаются и выводятся на экран с указанием причины.
